<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/dagger-in-practice/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/dagger-in-practice/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/dagger-in-practice/images/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="16x16" href="/dagger-in-practice/images/favicon-16x16.png"/><link rel="icon" type="image/x-icon" href="/dagger-in-practice/images/favicon.ico"/><title>Typical Dagger pipeline structure – Dagger in Practice</title><meta name="description" content="Dagger in Practice"/><meta name="keywords" content="your,Google,keywords,here"/><meta name="og:description" content="Dagger in Practice"/><meta name="og:title" content="Typical Dagger pipeline structure – Dagger in Practice"/><meta name="og:image" content="/dagger-in-practice/images/social-share-cover.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="next-head-count" content="14"/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/dagger-in-practice/_next/static/css/e26a65e1a84ae2eb.css" as="style"/><link rel="stylesheet" href="/dagger-in-practice/_next/static/css/e26a65e1a84ae2eb.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/dagger-in-practice/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/dagger-in-practice/_next/static/chunks/webpack-f9b25f49dfc48047.js" defer=""></script><script src="/dagger-in-practice/_next/static/chunks/framework-ecc4130bc7a58a64.js" defer=""></script><script src="/dagger-in-practice/_next/static/chunks/main-2e0e04bb12fa50b3.js" defer=""></script><script src="/dagger-in-practice/_next/static/chunks/pages/_app-02137c3e69ef82b9.js" defer=""></script><script src="/dagger-in-practice/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-1be90ff3b370008b.js" defer=""></script><script src="/dagger-in-practice/_next/static/Lm8S6J1RhIn6RrDW1JsE2/_buildManifest.js" defer=""></script><script src="/dagger-in-practice/_next/static/Lm8S6J1RhIn6RrDW1JsE2/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/dagger-in-practice">Dagger in Practice</a></h1><div class="navbar-info"></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><h2>Before we dive in</h2>
<p>We will be using Go for the example pipeline definition.</p>
<p>There are currently two ways to define a Dagger pipeline:</p>
<ol>
<li>Dagger functions, e.g. a function for each stage (build, test, deploy etc.).</li>
<li>A single Dagger pipeline function that contains all the stages.</li>
</ol>
<p>Because Dagger functions are still under development as of this writing, we will use the single Dagger pipeline function for the exercises.</p>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>

<h2>Typical Dagger pipeline structure</h2>
<ol>
<li>A pipeline in Go in its simplest form is a single file, e.g. <code>pipeline.go</code>.</li>
<li>The pipeline starts through the entry point function <code>main()</code>.</li>
<li>A Dagger client and background context is created. This is what orchestates Docker under the hood and is responsible for building the execution graph.</li>
<li>Pipeline stages are defined. These consist of the code you want to run, e.g. shell commands.</li>
</ol>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>

<p><img src="https://media1.tenor.com/m/4EYaYAMus0cAAAAd/michael-scott-the-office.gif" alt="Show me more"></p>
</br>
</br>

<p>Ok.. Let&#39;s continue and start building a pipeline! <i class="fa-solid fa-rocket"></i></p>
</br>
</br>
</div><div class="lesson-links"><a href="/dagger-in-practice/lessons/introducing-dagger/common-scenario-and-benefits" class="prev">← Previous</a><a href="/dagger-in-practice/lessons/creating-and-running-a-dagger-pipeline/new-dagger-pipeline" class="next">Next →</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><footer class="footer"><ul class="socials"><li class="social"><a href="https://github.com/lasselundstenjensen/dagger-in-practice"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Excercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"title":"Typical Dagger pipeline structure"},"html":"\u003ch2\u003eBefore we dive in\u003c/h2\u003e\n\u003cp\u003eWe will be using Go for the example pipeline definition.\u003c/p\u003e\n\u003cp\u003eThere are currently two ways to define a Dagger pipeline:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eDagger functions, e.g. a function for each stage (build, test, deploy etc.).\u003c/li\u003e\n\u003cli\u003eA single Dagger pipeline function that contains all the stages.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eBecause Dagger functions are still under development as of this writing, we will use the single Dagger pipeline function for the exercises.\u003c/p\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\n\u003ch2\u003eTypical Dagger pipeline structure\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eA pipeline in Go in its simplest form is a single file, e.g. \u003ccode\u003epipeline.go\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eThe pipeline starts through the entry point function \u003ccode\u003emain()\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eA Dagger client and background context is created. This is what orchestates Docker under the hood and is responsible for building the execution graph.\u003c/li\u003e\n\u003cli\u003ePipeline stages are defined. These consist of the code you want to run, e.g. shell commands.\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\n\u003cp\u003e\u003cimg src=\"https://media1.tenor.com/m/4EYaYAMus0cAAAAd/michael-scott-the-office.gif\" alt=\"Show me more\"\u003e\u003c/p\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\n\u003cp\u003eOk.. Let\u0026#39;s continue and start building a pipeline! \u003ci class=\"fa-solid fa-rocket\"\u003e\u003c/i\u003e\u003c/p\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n","markdown":"\n## Before we dive in\n\nWe will be using Go for the example pipeline definition.\n\nThere are currently two ways to define a Dagger pipeline:\n\n1. Dagger functions, e.g. a function for each stage (build, test, deploy etc.).\n2. A single Dagger pipeline function that contains all the stages.\n\nBecause Dagger functions are still under development as of this writing, we will use the single Dagger pipeline function for the exercises.\n\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\n## Typical Dagger pipeline structure\n\n1. A pipeline in Go in its simplest form is a single file, e.g. `pipeline.go`.\n2. The pipeline starts through the entry point function `main()`.\n3. A Dagger client and background context is created. This is what orchestates Docker under the hood and is responsible for building the execution graph.\n4. Pipeline stages are defined. These consist of the code you want to run, e.g. shell commands.\n\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\u003c/br\u003e\n\n![Show me more](https://media1.tenor.com/m/4EYaYAMus0cAAAAd/michael-scott-the-office.gif)\n\n\u003c/br\u003e\n\u003c/br\u003e\n\nOk.. Let's continue and start building a pipeline! \u003ci class=\"fa-solid fa-rocket\"\u003e\u003c/i\u003e\n\n\u003c/br\u003e\n\u003c/br\u003e\n","slug":"typical-structure","title":"Typical Dagger pipeline structure","section":"Introducing Dagger","icon":"code","filePath":"/home/runner/work/dagger-in-practice/dagger-in-practice/lessons/02-introducing-dagger/C-typical-structure.md","nextSlug":"/dagger-in-practice/lessons/creating-and-running-a-dagger-pipeline/new-dagger-pipeline","prevSlug":"/dagger-in-practice/lessons/introducing-dagger/common-scenario-and-benefits"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"introducing-dagger","slug":"typical-structure"},"buildId":"Lm8S6J1RhIn6RrDW1JsE2","assetPrefix":"/dagger-in-practice","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>